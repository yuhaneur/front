<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../CSS/public.css">
<style>
  #result1,#result2{
    height : 50px;
  }
  
</style>
<script>
window.onload = function(){
  res1= document.getElementById("result1");	
  res2= document.getElementById("result2");	
}
  proc1 = () =>{
	  
	// 0~ 255 사이의 랜덤발생
	cr = Math.floor(Math.random()* 256);
	cg = Math.floor(Math.random()* 256);
	cb = Math.floor(Math.random()* 256);
	// setTimeout 
	setTimeout(function(){
		//res1= document.getElementById("result1");
		//res1.style.backgroundColor = "rgb("+ cr+","+cg+","+cb+")";
		//res1.style.backgroundColor =  `rgb(${cr},${cg},${cb})`; 
		
		
		cr16 = cr.toString(16);
		console.log(cr16);
		cg16 = cg.toString(16);
		cb16 = cb.toString(16);
		res1.style.backgroundColor = "#"+cr16+cg16+cb16;  // rgb(45,199,210)
	}, 1000);
  }
  
  
  /* proc2 = function(){
	// this : 시작버튼
	this.style.display="none";
  } */
  
  proc2 = (but) =>{
	// but : 시작버튼 this 파라미터를 받은 매개변수, 매개변수는 지역변수
	but.style.display="none"; // 람다식은 매개변수를 줘야 this사용 가능
	
	// but 변수를 전역변수로 변경 - stop()에서 사용 가능 하도록
	gbut = but;
	// setInterval 
	id = setInterval(function(){
		console.log(id);
		
		cr = Math.floor(Math.random()* 256);
		cg = Math.floor(Math.random()* 256);
		cb = Math.floor(Math.random()* 256);
		res2.style.backgroundColor = `rgb(${cr},${cg},${cb})`;  // rgb(45,199,210)
		
		
	}, 500);
  }
  
  stop = () =>{
	  // 실행 종료
	  clearInterval(id);
	  
	  // 시작버튼을 다시 보여지도록 설정
	  gbut.style.display = "inline";
  }
</script>
</head>
<body>

  <div class="box">
    <h4></h4>
    <input type="button" value="확인" onclick="proc1()" /> <br /><br />
    <div id="result1"></div>
  </div>

  <div class="box">
    <h4></h4>
    <input type="button" value="시작" onclick="proc2(this)" /> 
    <input type="button" value="종료" onclick="stop()" /> <br /><br />
    <div id="result2"></div>
  </div>
</body>
</html>